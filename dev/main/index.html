<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Main · CyclicArrays</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">CyclicArrays</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Main</a><ul class="internal"><li><a class="tocitem" href="#The-connection-array"><span>The connection array</span></a></li><li><a class="tocitem" href="#Important-notes"><span>Important notes</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li><li><a class="tocitem" href="#Use-examples"><span>Use examples</span></a></li></ul></li><li><a class="tocitem" href="../API/">API Guide</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Main</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Main</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="git@github.com/udistr/CyclicArrays.jl.git" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="CyclicArrays"><a class="docs-heading-anchor" href="#CyclicArrays">CyclicArrays</a><a id="CyclicArrays-1"></a><a class="docs-heading-anchor-permalink" href="#CyclicArrays" title="Permalink"></a></h1><p>CyclicArrays allow for the intuitive definition of a circular domain composed of one or more arrays, where the faces of the arrays are interconnected. Each array will have two directions (positive and negative) and up to three space dimensions (x,y,z). After the definition of the connection between different faces, out-of-boundary indexes will be permitted. The CyclicArray structure includes two fields - data array and connection array. The data array containing the data values and the connection array containing the information on the connections between faces and their sides.</p><h2 id="The-connection-array"><a class="docs-heading-anchor" href="#The-connection-array">The connection array</a><a id="The-connection-array-1"></a><a class="docs-heading-anchor-permalink" href="#The-connection-array" title="Permalink"></a></h2><p>The connection array is a four-dimensional array defining the connections between faces:</p><ol><li>Array dimension - 1:(number of arrays)</li><li>Spatial dimensions, size up to three - x=1, y=2, z=3</li><li>Direction, size 2 (negative direction = 1, positive direction = 2)</li><li>Target - four values that point each array, dimension, and direction to its neighbor. The first three values indicate the neighbor array, dimension and direction. The fourth value indicates whether there is a need to flip the face upside-down (0 - no-flip, 1 - flip).</li></ol><h2 id="Important-notes"><a class="docs-heading-anchor" href="#Important-notes">Important notes</a><a id="Important-notes-1"></a><a class="docs-heading-anchor-permalink" href="#Important-notes" title="Permalink"></a></h2><ul><li>A face without connection should get four -1 values. An attempt to get the index adjacent to a non-connected face will return NaN value.</li><li>The cyclic dimensions should be the last ones. For example, a 3D space problem with several faces and time dimensions should be ordered as (time, face, z, y, x). Any other dimension should come before the face dimension).</li><li>The z dimension is not fully implemented. Different faces can be stacked above and below, but not rotated or connected to other horizontal dimensions. Similarly, x and y dimensions cannot connect to the z dimension.</li><li>Note that the horizontal dimensions should be equal for connection to be made between them - length(xdim) = length(ydim).</li></ul><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><h3 id="D,-1-face-example"><a class="docs-heading-anchor" href="#D,-1-face-example">1D, 1 face example</a><a id="D,-1-face-example-1"></a><a class="docs-heading-anchor-permalink" href="#D,-1-face-example" title="Permalink"></a></h3><p><img src="https://raw.githubusercontent.com/udistr/CyclicArrays.jl/master/docs/images/CyclicArrayExample1D.png" alt="CyclicArrayExample1D"/></p><p>One face (size N) with one circular x dimention will have a 1x1x2x4 connection array where:   connections[1,1,:,:]=    1  1  2  0    1  1  1  0  </p><p>The first row (array indexes [1,1,1,:]) indicates that face one, x dimension, negative direction is pointing to face one, x-direction, positive direction. The second row (array indexes [1,1,2,:]) indicates that face one, x dimension, positive direction is pointing to face one, x-direction, negative direction. Array fliping is not relevant in 1D array and should be set to zero (connection[:,:,:,4]=0).</p><h3 id="D,-1-face-example-2"><a class="docs-heading-anchor" href="#D,-1-face-example-2">2D, 1 face example</a><a class="docs-heading-anchor-permalink" href="#D,-1-face-example-2" title="Permalink"></a></h3><p><img src="https://raw.githubusercontent.com/udistr/CyclicArrays.jl//master/docs/images/CyclicArrayExample2D.png" alt="CyclicArrayExample2D"/></p><p>One face (size NxN) with circular x and y dimentions will have a 1x2x2x4 connection array where:   connections[1,1,:,:]=    1  1  2  0    1  1  1  0   connections[1,2,:,:]=    1  2  2  0    1  2  1  0  </p><p>connections[1,1,:,:] - The first row (array indexes [1,1,1,:]) indicates that face one, x dimension, negative direction is pointing to face one, x-direction, positive direction. The second row (array indexes [1,1,2,:]) indicates that face one, x dimension, positive direction is pointing to face one, x-direction, negative direction.    connections[1,2,:,:] -  The first row (array indexes [1,2,1,:]) indicates that face one, y dimension, negative direction is pointing to face one, y-direction, positive direction. The second row (array indexes [1,2,2,:]) indicates that face one, y dimension, positive direction is pointing to face one, x dimension, negative direction. No array fliping here.</p><h2 id="Use-examples"><a class="docs-heading-anchor" href="#Use-examples">Use examples</a><a id="Use-examples-1"></a><a class="docs-heading-anchor-permalink" href="#Use-examples" title="Permalink"></a></h2><h3 id="Diffusion-1D"><a class="docs-heading-anchor" href="#Diffusion-1D">Diffusion 1D</a><a id="Diffusion-1D-1"></a><a class="docs-heading-anchor-permalink" href="#Diffusion-1D" title="Permalink"></a></h3><p>Example examples/Diffusion_1D.jl will run a simple 1D diffustion equations:</p><p><img src="https://render.githubusercontent.com/render/math?math=%5Cfrac%7B%5Cpartial%20%5Crho%7D%7B%5Cpartial%20t%7D%20%3D%20%5Cfrac%7B%5Cpartial%5E2%20%5Crho%7D%7B%5Cpartial%20x%5E2%7D" alt="\\frac{\\partial \\rho}{\\partial t} = \\frac{\\partial^2 \\rho}{\\partial x^2}"/>,   where, <img src="https://render.githubusercontent.com/render/math?math=%5Crho%20(x%2Ct)" alt="\\rho (x,t)"/> is the density.</p><p>Using the embedded function shiftc which which returns a shifted value of the array, this example integrated for 12 seconds results:</p><p><img src="https://raw.githubusercontent.com/udistr/CyclicArrays.jl/master/docs/images/Diffusion1D.gif" alt="Diffusion1D"/></p><h3 id="Advection-1D"><a class="docs-heading-anchor" href="#Advection-1D">Advection 1D</a><a id="Advection-1D-1"></a><a class="docs-heading-anchor-permalink" href="#Advection-1D" title="Permalink"></a></h3><p>Example examples/Advection_1D.jl will run a simple 1D Advection equations:</p><p><img src="https://render.githubusercontent.com/render/math?math=%5Cfrac%7B%5Cpartial%20(%20%5Crho%20%5Ccdot%20%5Cu)%7D%7B%5Cpartial%20t%7D%20%3D%20-u%20%5Ccdot%20%5Cfrac%7B%5Cpartial%20(%20%5Crho%20%5Ccdot%20%5Cu)%7D%7B%5Cpartial%20x%7D" alt="\\frac{\\partial ( \\rho \\cdot \\u)}{\\partial t} = -u \\cdot \\frac{\\partial ( \\rho \\cdot \\u)}{\\partial x}"/>  </p><p><img src="https://render.githubusercontent.com/render/math?math=%5Cfrac%7B%5Cpartial%20%5Crho%7D%7B%5Cpartial%20t%7D%20%3D%20-%5Cfrac%7B%5Cpartial%20(%20%5Crho%20%5Ccdot%20u)%7D%7B%5Cpartial%20x%7D" alt="\\frac{\\partial \\rho}{\\partial t} = -\\frac{\\partial ( \\rho \\cdot u)}{\\partial x}"/></p><p>where, <img src="https://render.githubusercontent.com/render/math?math=%5Crho%20(x%2Ct)" alt="\\rho (x,t)"/> and <img src="https://render.githubusercontent.com/render/math?math=u%20(x%2Ct)" alt="u (x,t)"/> are the density and x-dimension velocity fields.</p><p><img src="https://raw.githubusercontent.com/udistr/CyclicArrays.jl/master/docs/images/Advection1D.gif" alt="Advection1D"/></p><h3 id="Random-Flow"><a class="docs-heading-anchor" href="#Random-Flow">Random Flow</a><a id="Random-Flow-1"></a><a class="docs-heading-anchor-permalink" href="#Random-Flow" title="Permalink"></a></h3><p>Example examples/RandomFlow_2D.jl simulates the trajectories of a particle cloud in a randomly generated flow field, given the stream function:</p><p>f(y,x) = sin(x) + sin(y)</p><p><img src="https://raw.githubusercontent.com/udistr/CyclicArrays.jl/master/docs/images/RandomFlow_2D.gif" alt="Advection1D"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../API/">API Guide »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 13 December 2020 08:44">Sunday 13 December 2020</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
